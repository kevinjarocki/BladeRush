[gd_scene load_steps=30 format=3 uid="uid://cab2q7cer6567"]

[ext_resource type="Script" path="res://ShopManager.gd" id="1_07efy"]
[ext_resource type="PackedScene" uid="uid://c2foh3xf7xqox" path="res://ore_box.tscn" id="2_lioss"]
[ext_resource type="PackedScene" uid="uid://b1qqtnco6o3b5" path="res://AnvilGame.tscn" id="2_vq7so"]
[ext_resource type="PackedScene" uid="uid://e5cetnbk6s3o" path="res://forge.tscn" id="3_oi4xx"]
[ext_resource type="PackedScene" uid="uid://b050eg4ti6ipn" path="res://anvil.tscn" id="4_aakto"]
[ext_resource type="Texture2D" uid="uid://c6cnd0kx11fvq" path="res://Assets/Shareef/walls Tilemap.png" id="4_cvtwc"]
[ext_resource type="PackedScene" uid="uid://bewrwdr2l45aj" path="res://cash_register.tscn" id="5_bnaeq"]
[ext_resource type="PackedScene" uid="uid://devtoi3ah4vy2" path="res://Player.tscn" id="5_lp5dw"]
[ext_resource type="FontFile" uid="uid://d4gloc7rb6s5s" path="res://Assets/Font/vinque rg.otf" id="9_6uv7d"]
[ext_resource type="PackedScene" uid="uid://bdnf3f3fjgnoh" path="res://recipeTool.tscn" id="9_4745i"]
[ext_resource type="Script" path="res://GUI HUD.gd" id="9_laghi"]
[ext_resource type="AudioStream" uid="uid://btbfj47m04llr" path="res://Assets/Sounds/Ferret/155115__jzazvurek__ferret1.mp3" id="12_jdva2"]
[ext_resource type="AudioStream" uid="uid://dm1c6rd1ioylc" path="res://Assets/Sounds/Ferret/155115__jzazvurek__ferret2.mp3" id="13_t1mm5"]
[ext_resource type="AudioStream" uid="uid://b47won4vrbchq" path="res://Assets/Sounds/Ferret/155115__jzazvurek__ferret3.mp3" id="14_clega"]
[ext_resource type="AudioStream" uid="uid://th0gdq3bowgo" path="res://Assets/Sounds/Ferret/155115__jzazvurek__ferret4.mp3" id="15_5l16s"]
[ext_resource type="AudioStream" uid="uid://df4ym32qvy80h" path="res://Assets/Sounds/Ferret/155115__jzazvurek__ferret5.mp3" id="16_k12j5"]
[ext_resource type="AudioStream" uid="uid://bdml4x3j8ni0w" path="res://Assets/Sounds/Ferret/477390__nuff3__steps-dirt_2a.ogg" id="17_axae4"]
[ext_resource type="AudioStream" uid="uid://ba8u1nix4fee7" path="res://Assets/Sounds/214456__quaker540__hq-flamethrower-burning.wav" id="18_mw575"]
[ext_resource type="PackedScene" uid="uid://k1brmsrvmi3s" path="res://end_day.tscn" id="19_bnti8"]
[ext_resource type="AudioStream" uid="uid://dpmica7dit60i" path="res://Assets/Sounds/Audacity/blacksmith2.mp3" id="19_p3ybx"]
[ext_resource type="PackedScene" path="res://trashCan.tscn" id="21_lpgaf"]
[ext_resource type="Texture2D" uid="uid://x87tv08rqsb1" path="res://Assets/Shareef/Tilemap set sj.png" id="22_hjipw"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_koj80"]
texture = ExtResource("22_hjipw")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0

[sub_resource type="TileSet" id="TileSet_wqvrl"]
tile_size = Vector2i(200, 200)
sources/0 = SubResource("TileSetAtlasSource_koj80")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_juptc"]
texture = ExtResource("4_cvtwc")
texture_region_size = Vector2i(200, 200)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
2:1/0 = 0
1:1/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_pf2eu"]
tile_size = Vector2i(200, 200)
sources/0 = SubResource("TileSetAtlasSource_juptc")

[sub_resource type="Theme" id="Theme_d7is4"]
default_font = ExtResource("9_6uv7d")
default_font_size = 22

[sub_resource type="LabelSettings" id="LabelSettings_8qs8s"]
font_size = 18

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_8i7mk"]
streams_count = 5
stream_0/stream = ExtResource("12_jdva2")
stream_0/weight = 1.0
stream_1/stream = ExtResource("13_t1mm5")
stream_1/weight = 1.0
stream_2/stream = ExtResource("14_clega")
stream_2/weight = 1.0
stream_3/stream = ExtResource("15_5l16s")
stream_3/weight = 1.0
stream_4/stream = ExtResource("16_k12j5")
stream_4/weight = 1.0

[node name="Shop" type="Node2D"]
script = ExtResource("1_07efy")
endDayTime = 80
minigame = ExtResource("2_vq7so")

[node name="Floors" type="TileMap" parent="."]
modulate = Color(0.533333, 0.505882, 0.568627, 1)
z_index = -14
scale = Vector2(0.25, 0.25)
tile_set = SubResource("TileSet_wqvrl")
format = 2
layer_0/tile_data = PackedInt32Array(0, 65536, 0, 1, 65536, 0, 2, 131072, 0, 3, 131072, 0, 4, 0, 1, 65540, 131072, 0, 65539, 65536, 0, 65538, 131072, 0, 65537, 0, 0, 65536, 131072, 1, 131073, 131072, 0, 131074, 131072, 1, 131075, 131072, 0, 131076, 131072, 1, 131072, 131072, 0, 196608, 0, 0, 196609, 65536, 0, 196610, 0, 0, 196611, 0, 1, 196612, 65536, 0, 196613, 131072, 0, 262149, 0, 1, 262148, 65536, 0, 262147, 0, 1, 262146, 131072, 1, 262145, 0, 0, 262144, 65536, 1, 327680, 131072, 1, 327681, 131072, 0, 327682, 65536, 0, 327683, 131072, 1, 327684, 0, 0, 327685, 65536, 0, 327686, 131072, 1, 327687, 131072, 1, 327688, 0, 0, 327689, 65536, 1, 327690, 131072, 1, 262154, 131072, 0, 196618, 0, 0, 131082, 0, 1, 65546, 0, 0, 10, 0, 0, 9, 131072, 0, 8, 131072, 1, 7, 131072, 1, 6, 131072, 0, 5, 131072, 1, 65541, 0, 0, 131077, 65536, 1, 131078, 0, 0, 65542, 0, 0, 65543, 0, 0, 65544, 0, 0, 65545, 131072, 1, 131081, 65536, 1, 131080, 131072, 1, 131079, 131072, 0, 196615, 131072, 0, 196616, 0, 0, 196617, 0, 1, 262153, 131072, 1, 262152, 0, 1, 262151, 131072, 0, 262150, 0, 1, 196614, 65536, 0, 11, 0, 1, 12, 131072, 0, 13, 65536, 1, 14, 65536, 1, 15, 0, 0, 16, 131072, 0, 17, 65536, 1, 18, 131072, 1, 19, 0, 0, 20, 131072, 0, 21, 65536, 1, 22, 131072, 1, 65558, 131072, 1, 65557, 0, 1, 65556, 65536, 0, 65555, 0, 0, 65554, 0, 1, 65553, 131072, 0, 65552, 0, 0, 65551, 65536, 0, 65550, 65536, 0, 65549, 0, 1, 65548, 131072, 0, 65547, 131072, 1, 131083, 0, 1, 131084, 65536, 1, 131085, 131072, 0, 131086, 131072, 1, 131087, 131072, 1, 131088, 65536, 0, 131089, 0, 0, 131090, 131072, 1, 131091, 131072, 0, 131092, 0, 1, 131093, 131072, 1, 131094, 0, 0, 196630, 65536, 0, 196629, 0, 1, 196628, 131072, 1, 196627, 0, 1, 196626, 0, 1, 196625, 0, 1, 196624, 65536, 1, 196623, 0, 1, 196622, 0, 0, 196621, 0, 0, 196620, 0, 1, 196619, 131072, 0, 262155, 65536, 0, 262156, 131072, 1, 262157, 0, 0, 262158, 65536, 0, 262159, 131072, 0, 262160, 131072, 0, 262161, 0, 0, 262162, 65536, 1, 262163, 131072, 0, 262164, 65536, 0, 262165, 65536, 1, 262166, 131072, 0, 327702, 65536, 1, 327701, 0, 1, 393237, 65536, 1, 393236, 65536, 1, 393235, 65536, 0, 393234, 0, 0, 393233, 131072, 1, 393232, 65536, 0, 393231, 65536, 0, 393230, 0, 0, 393229, 131072, 1, 393228, 65536, 0, 393227, 0, 0, 327691, 65536, 0, 327692, 65536, 1, 327693, 0, 1, 327694, 65536, 0, 327695, 0, 1, 327696, 131072, 1, 327697, 0, 0, 327698, 131072, 1, 327699, 0, 1, 327700, 131072, 0, 393238, 65536, 0, 458774, 131072, 1, 458773, 131072, 0, 524309, 0, 1, 524308, 0, 1, 589844, 131072, 1, 655380, 0, 0, 655381, 65536, 0, 655382, 131072, 0, 589846, 65536, 0, 524310, 131072, 1, 589845, 65536, 1, 458772, 65536, 1, 458771, 65536, 1, 524307, 131072, 0, 589843, 65536, 0, 655379, 131072, 1, 655378, 65536, 1, 655377, 131072, 0, 589841, 65536, 1, 589842, 131072, 0, 524306, 65536, 0, 458770, 0, 1, 458769, 0, 1, 458768, 131072, 0, 524304, 131072, 1, 524305, 131072, 1, 589840, 65536, 1, 589839, 0, 0, 524303, 65536, 1, 458767, 65536, 1, 524302, 131072, 0, 589838, 0, 0, 655375, 65536, 0, 655376, 65536, 1, 655374, 0, 0, 589837, 0, 0, 524301, 131072, 0, 458766, 0, 1, 458765, 131072, 1, 524300, 131072, 1, 589836, 0, 0, 655373, 65536, 1, 655372, 131072, 1, 655371, 131072, 1, 589835, 131072, 0, 524299, 0, 1, 458763, 131072, 0, 458762, 131072, 0, 393226, 0, 1, 524298, 65536, 1, 589834, 131072, 1, 655370, 131072, 1, 655369, 131072, 1, 589833, 0, 0, 589832, 65536, 0, 524296, 131072, 1, 458760, 0, 0, 393224, 131072, 0, 393225, 131072, 0, 458761, 131072, 0, 524297, 65536, 0, 393223, 0, 1, 458759, 131072, 0, 524295, 0, 1, 589831, 0, 0, 655368, 131072, 0, 655367, 131072, 0, 655366, 65536, 1, 655365, 131072, 0, 655364, 65536, 0, 655363, 0, 1, 655362, 131072, 1, 655361, 131072, 1, 589825, 65536, 0, 589824, 65536, 1, 524288, 65536, 1, 458752, 131072, 0, 393216, 0, 0, 655360, 65536, 0, 524289, 131072, 0, 458753, 131072, 1, 393217, 0, 1, 393218, 65536, 0, 458754, 0, 0, 524290, 0, 0, 589826, 65536, 1, 589827, 0, 0, 524291, 65536, 0, 458755, 0, 1, 393219, 0, 1, 393220, 131072, 1, 458757, 65536, 1, 524292, 65536, 1, 589828, 131072, 1, 589829, 131072, 0, 524293, 65536, 1, 393221, 0, 0, 393222, 65536, 0, 458758, 0, 0, 524294, 131072, 1, 589830, 65536, 0, 458764, 131072, 1)

[node name="Walls" type="TileMap" parent="."]
scale = Vector2(0.25, 0.25)
tile_set = SubResource("TileSet_pf2eu")
format = 2
layer_0/tile_data = PackedInt32Array(720918, 131072, 805306368, 720917, 65536, 1342177281, 720916, 65536, 1342177281, 720915, 65536, 1342177281, 720914, 65536, 1342177281, 720913, 65536, 1342177281, 720912, 65536, 1342177281, 720911, 65536, 1342177281, 720910, 65536, 1342177281, 720909, 65536, 1342177281, 720908, 65536, 1342177281, 720907, 65536, 1342177281, 720906, 65536, 1342177281, 720905, 65536, 1342177281, 720904, 65536, 1342177281, 720903, 65536, 1342177281, 720902, 65536, 1342177281, 720901, 65536, 1342177281, 720900, 65536, 1342177281, 720899, 65536, 1342177281, 720898, 65536, 1342177281, 720897, 65536, 1342177281, 720896, 131072, 1342177280, 786432, 0, 1342177280, 786433, 65536, 1610612737, 786434, 65536, 1610612737, 786435, 65536, 1610612737, 786436, 65536, 1610612737, 786437, 65536, 1610612737, 786438, 65536, 1610612737, 786439, 65536, 1610612737, 786440, 65536, 1610612737, 786441, 65536, 1610612737, 786442, 65536, 1610612737, 786443, 65536, 1610612737, 786444, 65536, 1610612737, 786445, 65536, 1610612737, 786446, 65536, 1610612737, 786447, 65536, 1610612737, 786448, 65536, 1610612737, 786449, 65536, 1610612737, 786450, 65536, 1610612737, 786451, 65536, 1610612737, 786452, 65536, 1610612737, 786453, 65536, 1610612737, 786454, 131072, 1610612736, 22, 131072, 1, 65558, 65536, 1, 131094, 65536, 1, 196630, 65536, 1, 262166, 65536, 1, 327702, 65536, 1, 393238, 65536, 1, 458774, 65536, 1, 524310, 65536, 1, 589846, 65536, 1, 655382, 131072, 0, 3, 65536, 1610612737, 4, 65536, 1610612737, 5, 65536, 1610612737, 6, 65536, 1610612737, 7, 65536, 1610612737, 8, 65536, 1610612737, 9, 65536, 1610612737, 10, 65536, 1610612737, 11, 65536, 1610612737, 12, 65536, 1610612737, 13, 65536, 1610612737, 14, 65536, 1610612737, 15, 65536, 1610612737, 16, 65536, 1610612737, 17, 65536, 1610612737, 18, 65536, 1610612737, 19, 65536, 1610612737, 20, 65536, 1610612737, 21, 65536, 1610612737, 0, 65536, 0, 1, 65536, 1610612737, 2, 65536, 1610612737, 65536, 65536, 805306369, 131072, 65536, 805306369, 196608, 65536, 805306369, 262144, 65536, 805306369, 327680, 65536, 805306369, 393216, 65536, 805306369, 458752, 65536, 805306369, 524288, 65536, 805306369, 589824, 65536, 805306369, 655360, 0, 0)

[node name="OreBox" parent="." instance=ExtResource("2_lioss")]
position = Vector2(305, 121)

[node name="Forge" parent="." instance=ExtResource("3_oi4xx")]
position = Vector2(495, 1)

[node name="Anvil" parent="." instance=ExtResource("4_aakto")]
position = Vector2(845, 121)

[node name="Player" parent="." instance=ExtResource("5_lp5dw")]
position = Vector2(622, 401)

[node name="CashRegister" parent="." instance=ExtResource("5_bnaeq")]
position = Vector2(222, 367)

[node name="AnvilGame" parent="." instance=ExtResource("2_vq7so")]
visible = false

[node name="Button2" parent="AnvilGame" instance=ExtResource("9_4745i")]
offset_left = 2012.0
offset_top = 399.0
offset_right = 2148.0
offset_bottom = 535.0

[node name="GUI HUD" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = 26.0
offset_top = 21.0
offset_right = 158.0
offset_bottom = 52.0
theme = SubResource("Theme_d7is4")
script = ExtResource("9_laghi")

[node name="ProgressBar" type="ProgressBar" parent="GUI HUD"]
layout_mode = 0
offset_top = 50.0
offset_right = 65.0
offset_bottom = 270.0
fill_mode = 3
show_percentage = false

[node name="IdealHeat" type="ColorRect" parent="GUI HUD/ProgressBar"]
z_index = -2
layout_mode = 0
offset_right = 65.0
color = Color(0.215686, 0.6, 0.172549, 0.411765)

[node name="HeatRange" type="ColorRect" parent="GUI HUD/ProgressBar"]
z_index = -3
layout_mode = 0
offset_right = 65.0
color = Color(1, 1, 0.172549, 0.454902)

[node name="ActiveRecipe" type="Label" parent="GUI HUD"]
layout_mode = 0
offset_top = -13.0
offset_right = 224.0
offset_bottom = 10.0
text = "Active Recipe: Waiting order"
label_settings = SubResource("LabelSettings_8qs8s")

[node name="DayCount" type="Label" parent="GUI HUD"]
layout_mode = 0
offset_left = 906.0
offset_top = -15.0
offset_right = 969.0
offset_bottom = 13.0
text = "Day: 0"

[node name="DayButton" type="Button" parent="GUI HUD"]
layout_mode = 0
offset_left = 887.0
offset_top = 461.0
offset_right = 1010.0
offset_bottom = 511.0
text = "Next Day"

[node name="MoneyCount" type="Label" parent="GUI HUD"]
layout_mode = 0
offset_left = 904.0
offset_top = 16.0
offset_right = 963.0
offset_bottom = 44.0
text = "Gold: "

[node name="GUIBacking" type="ColorRect" parent="GUI HUD"]
z_index = -3
layout_mode = 0
offset_left = 902.0
offset_top = -13.0
offset_right = 1026.0
offset_bottom = 99.0
color = Color(0.494118, 0.494118, 0.494118, 0.556863)

[node name="Button" type="Button" parent="GUI HUD"]
layout_mode = 0
offset_left = 410.0
offset_top = 567.0
offset_right = 637.0
offset_bottom = 603.0
text = "Sell Ingot DEV ONLY PLZ"

[node name="DoNothing" type="Button" parent="GUI HUD"]
layout_mode = 0
offset_left = 143.0
offset_top = 548.0
offset_right = 260.0
offset_bottom = 600.0
text = "Do Nothing"

[node name="DayTimer" type="ProgressBar" parent="GUI HUD"]
layout_mode = 0
offset_left = 738.0
offset_top = 555.0
offset_right = 1061.0
offset_bottom = 602.0

[node name="Ferret" type="AudioStreamPlayer2D" parent="."]
stream = SubResource("AudioStreamRandomizer_8i7mk")
pitch_scale = 0.9

[node name="Dirt" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("17_axae4")

[node name="Fire" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("18_mw575")
attenuation = 2.37841
max_polyphony = 5
panning_strength = 1.86

[node name="EndDay" parent="." instance=ExtResource("19_bnti8")]
visible = false

[node name="ThwakToMainMenu" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("19_p3ybx")

[node name="TrashCan" parent="." instance=ExtResource("21_lpgaf")]
position = Vector2(985, 309)
scale = Vector2(0.303125, 0.303125)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
color = Color(0.752941, 0.784314, 0.596078, 1)
energy = 0.4
blend_mode = 1
shadow_enabled = true

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="animation_finished" from="OreBox" to="." method="_on_ore_box_animation_finished1"]
[connection signal="animation_looped" from="OreBox" to="." method="_on_ore_box_animation_looped"]
[connection signal="departed" from="Player" to="AnvilGame" method="_on_player_departed"]
[connection signal="interacted" from="Player" to="." method="_on_player_interacted"]
[connection signal="gameCompleteSignal" from="AnvilGame" to="." method="_on_anvil_game_game_complete_signal"]
[connection signal="playerLeft" from="AnvilGame" to="." method="_on_anvil_game_player_left"]
[connection signal="pressed" from="GUI HUD/DayButton" to="." method="_on_day_button_pressed"]
[connection signal="pressed" from="GUI HUD/Button" to="." method="_on_button_pressed"]
[connection signal="coolingDec" from="EndDay" to="." method="_on_end_day_cooling_dec"]
[connection signal="heatInc" from="EndDay" to="." method="_on_end_day_heat_inc"]
[connection signal="nextDayPressed" from="EndDay" to="." method="_on_end_day_next_day_pressed"]
[connection signal="speedInc" from="EndDay" to="." method="_on_end_day_speed_inc"]
